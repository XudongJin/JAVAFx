/*Demo of text fields, a label   and drawing of circles Create wo circles for for manipulation one for drawing */package code;/* import library packages */import java.math.BigDecimal;import java.util.Scanner;import javafx.application.Application;import javafx.beans.value.ChangeListener;import javafx.beans.value.ObservableValue;import javafx.event.ActionEvent;import javafx.event.EventHandler;import javafx.geometry.Orientation;import javafx.scene.Scene;import javafx.scene.control.Button;import javafx.scene.control.Label;import javafx.scene.control.Slider;import javafx.scene.control.TextField;import javafx.scene.input.KeyEvent;import javafx.scene.input.MouseEvent;import javafx.scene.layout.Pane;import javafx.scene.layout.VBox;import javafx.scene.paint.Color;import javafx.scene.text.Font;import javafx.scene.text.FontPosture;import javafx.scene.text.FontWeight;import javafx.scene.text.Text;import javafx.scene.text.TextAlignment;import javafx.stage.Stage;/** *  * @author xudong jin * @version 1.0 */public class Shapes extends Application {	/** create layouts */	// Panes	Pane author_pane = new Pane();	Pane problem_pane = new Pane();	Pane reference_pane = new Pane();	VBox solution_pane = new VBox();	Pane drawpane = new Pane();	Pane root = new Pane();	Scene scene;	Stage stage;	public static final Color SHAPE1_COLOR = Color.RED;	public static final Color SHAPE2_COLOR = Color.BLUE;	public static final double MAXWIDTH = 400;	public static final double MAXHEIGHT = 400;	private Label label0, label1, label2, label3, label4,space, colorlabel1,			colorlabel2;	private TextField tField;	private Slider widthSlider,heightSlider;		private Rectangle2D rectangle1;	private Rectangle2D rectangle2;		private Text reference_url,identity, declaim, problem;	private Button author_button, problem_button, solution_button,reference_button;		public void start(Stage stage) {				// root.getChildren().addAll(pane1,button1,button2,button3);//first		// panne the controls		root = createFrontPage();		scene = new Scene(root, 800, 800, Color.WHITE);		stage.setTitle("Homework7");		stage.setScene(scene);		stage.show();	}	public Pane createFrontPage() {		createAuthorPane();		createProblemPane();		createReferencePane();		createSolutionPane();		author_button = new Button("Author");		problem_button = new Button("Problem");		solution_button = new Button("Solution");		reference_button = new Button("Reference");		author_button.setLayoutX(100);		author_button.setLayoutY(20);		problem_button.setLayoutX(250);		problem_button.setLayoutY(20);		reference_button.setLayoutX(400);		reference_button.setLayoutY(20);		solution_button.setLayoutX(550);		solution_button.setLayoutY(20);		root.getChildren().addAll(author_pane);		root.getChildren().addAll(author_button, problem_button,reference_button,				solution_button);		author_button.setOnAction(new EventHandler<ActionEvent>() {			@Override			public void handle(ActionEvent actionEvent) {				root.getChildren().removeAll(author_pane, problem_pane,reference_pane,						solution_pane);				root.getChildren().add(author_pane);			}		});		problem_button.setOnAction(new EventHandler<ActionEvent>() {			public void handle(ActionEvent actionEvent) {				root.getChildren().removeAll(author_pane, problem_pane,reference_pane,						solution_pane);				root.getChildren().add(problem_pane);			}		});				reference_button.setOnAction(new EventHandler<ActionEvent>() {			public void handle(ActionEvent actionEvent) {				root.getChildren().removeAll(author_pane, problem_pane,reference_pane,						solution_pane);				root.getChildren().add(reference_pane);			}		});		solution_button.setOnAction(new EventHandler<ActionEvent>() {			public void handle(ActionEvent actionEvent) {				root.getChildren().removeAll(author_pane, problem_pane,reference_pane,						solution_pane);				root.getChildren().add(solution_pane);			}		});		return root;	}	/**	 * @param args	 *            the command line arguments	 */	public static void main(String[] args) {		Application.launch(args);	}		public void createProblemPane() {				problem = new Text(				10,				40,				"Continue with HW06. Now the problem data is rectangles instead of circles.\nYou will display your program in a userfriendly manner: author identification, problem description, then problem\nsolution with text description of solution and plots of triangle for visualization as shown in the class.\nIt reads input two rectangles x1 y1 w1 h1 x2 y2 w2 h2 (pixels are integers) from a textField. Output on a label what\nkind of intersection takes place: interiors disjoint (DR) , proper overlap PO), equal (EQ), PP circle1 is inside the\ncircle2, conversely PPc circle2 is inside the circle1. See the demos given in the class how to do GUI based I/O.\nNow Distinguish interiors disjoint DR: DC(not touching the boundaries) or EC(touching on boundaries), PP as\nNTPP(not touching the boundaries),TPP(touching the boundaries) ; PPc as NTTPc(not touching the boundaries) and\nTPPc(touching the boundaries). ");		problem.setFont(new Font(20));		problem.setFill(Color.BLUE);		problem.setWrappingWidth(600);		problem.setTextAlignment(TextAlignment.JUSTIFY);				problem_pane.getChildren().addAll(problem);		problem_pane.setLayoutX(10);		problem_pane.setLayoutY(50);			}		public void createAuthorPane() {		identity = new Text(10, 120,				"\nPresented by Xudong Jin \n\nEmail address xjgw7@mst.edu\n\n");		identity.setFont(new Font(20));		identity.setFill(Color.GREEN);		identity.setWrappingWidth(500);		identity.setTextAlignment(TextAlignment.CENTER);		author_pane.getChildren().addAll(identity);		author_pane.setLayoutX(10);		author_pane.setLayoutY(50);			}		private void createReferencePane() {						declaim = new Text(				10,				140,				"This is my orignal code, No IDE used in the submission. \nI did not give my code to anyone or I did not use anyone's code in this work. \n");		declaim.setFont(new Font(20));		declaim.setFill(Color.BLUE);		declaim.setWrappingWidth(600);		declaim.setTextAlignment(TextAlignment.CENTER);				reference_url = new Text(10, 180,				"\nLink: url address for reference to specific page and quotation");		reference_url.setFont(new Font(20));		reference_url.setFill(Color.GREEN);		reference_url.setWrappingWidth(500);		reference_url.setTextAlignment(TextAlignment.CENTER);				reference_pane.getChildren().addAll(declaim, reference_url);		reference_pane.setLayoutX(10);		reference_pane.setLayoutY(50);			}	public void createSolutionPane() {		Font font1 = Font.font("Courier New", FontWeight.BOLD,				FontPosture.REGULAR, 18);		Font font2 = Font.font("SanSerif", FontWeight.BOLD,				FontPosture.REGULAR, 20);				Font font3 = Font.font("Courier New", FontWeight.SEMI_BOLD,				FontPosture.REGULAR, 15);		label0 = new Label();		label0.setText("\n\nRectangle Relations by Xudong Jin");		label0.setTextAlignment(TextAlignment.CENTER);		label0.setFont(font1);		label0.setTextFill(Color.BLUE);		space = new Label();		space.setText(" ");		space.setTextAlignment(TextAlignment.CENTER);		label1 = new Label();		label1.setText("Input Rectangles:x1 y1 w1 h1 x2 y2 w2 h2");		label1.setTextAlignment(TextAlignment.CENTER);		label1.setFont(font1);		label1.setTextFill(Color.BLUE);/*		label2 = new Label();		label2.setText(" ");		label2.setTextAlignment(TextAlignment.CENTER);*/		colorlabel1 = new Label();		colorlabel1.setText(" ");		colorlabel1.setTextAlignment(TextAlignment.CENTER);		colorlabel1.setTextFill(SHAPE1_COLOR);		colorlabel2 = new Label();		colorlabel2.setText(" ");		colorlabel2.setTextAlignment(TextAlignment.CENTER);		colorlabel2.setTextFill(SHAPE2_COLOR);		label3 = new Label();		label3.setText(" ");		label3.setTextAlignment(TextAlignment.CENTER);		label3.setFont(font2);		label3.setTextFill(Color.GREEN);				label4 = new Label();		label4.setText("Press key w,a,s,d to change the width and heigth of red rectangle." +				"\nPress and drag mouse to change the position of red rectangle" +				"\nUse following sliders to change the width and heigth of red rectangle. ");		label4.setTextAlignment(TextAlignment.CENTER);		label4.setFont(font3);		label4.setTextFill(Color.BLACK);				tField = new TextField();		tField.setOnAction(new TextFieldHandler());		tField.setStyle("-fx-text-inner-color: green");				widthSlider = new Slider();		widthSlider.setOrientation(Orientation.HORIZONTAL);		widthSlider.setShowTickLabels(true);		widthSlider.setShowTickMarks(true);		widthSlider.setValue(100);		widthSlider.setMax(MAXWIDTH);				heightSlider = new Slider();		heightSlider.setOrientation(Orientation.HORIZONTAL);		heightSlider.setShowTickLabels(true);		heightSlider.setShowTickMarks(true);		heightSlider.setValue(100);		heightSlider.setMax(MAXHEIGHT);				   		solution_pane.getChildren().addAll(label0, space, label1, tField,				label4,widthSlider, heightSlider,colorlabel1, colorlabel2,label3, drawpane);				solution_pane.setLayoutX(10);		solution_pane.setLayoutY(50);	}	class MouseHandler implements EventHandler<MouseEvent> {				double x1,y1, w1, h1 ,x2 ,y2, w2, h2;	    	    double OriginalX;double OffsetX;	    double OriginalY;double OffsetY;	    boolean inRectangle;    	            @Override    public void handle(MouseEvent mouseEvent) {    	    	if(mouseEvent.getEventType().equals(MouseEvent.MOUSE_MOVED)){    		    		    		inRectangle=false;    		if(rectangle1.getX()<=mouseEvent.getX() && mouseEvent.getX()<=rectangle1.getX()+rectangle1.getWidth())    			if(rectangle1.getY()<=mouseEvent.getY() && mouseEvent.getY()<=rectangle1.getY()+rectangle1.getHeight())    				inRectangle=true;    		  System.out.println(inRectangle);    	}    	    	if(mouseEvent.getEventType().equals(MouseEvent.MOUSE_PRESSED)){    	        		if(inRectangle==true){       		OriginalX=mouseEvent.getX();    		OriginalY=mouseEvent.getY();    	    System.out.println(OriginalX+"¡¡"+OriginalY);    		}     	}    	   	if(mouseEvent.getEventType().equals(MouseEvent.MOUSE_RELEASED)||mouseEvent.getEventType().equals(MouseEvent.MOUSE_DRAGGED)){   		if(inRectangle==true){    		OffsetX=mouseEvent.getX()-OriginalX;    		OffsetY=mouseEvent.getY()-OriginalY;    	    System.out.println(OffsetX+"¡¡"+OffsetY+"\n");    	    rectangle1.setX(rectangle1.getX()+OffsetX);    	    rectangle1.setY(rectangle1.getY()+OffsetY);       		OriginalX=mouseEvent.getX();    		OriginalY=mouseEvent.getY();    	    rectangle1.drawRectangle(SHAPE1_COLOR);			String textString=rectangle1.getX()+" "+rectangle1.getY()+" "+rectangle1.getWidth()+" "+rectangle1.getHeight()+" "			+rectangle2.getX()+" "+rectangle2.getY()+" "+rectangle2.getWidth()+" "+rectangle2.getHeight();			tField.setText(textString);			label3.setText(updateRectanglesRelation(rectangle1,rectangle2));				   		}    	}    }    }	class KeyHandler implements EventHandler<KeyEvent> {				@Override		public void handle(KeyEvent e) {									if (e.getCharacter().equals("w")) {				if(rectangle1.getHeight()<=MAXHEIGHT-1){				rectangle1.setHeight(rectangle1.getHeight() + 1);				}			} else if (e.getCharacter().equals("s")) {				if(rectangle1.getHeight()>=1){				rectangle1.setHeight(rectangle1.getHeight() - 1);				}			} else if (e.getCharacter().equals("a")) {				if(rectangle1.getWidth()>=1){				rectangle1.setWidth(rectangle1.getWidth() - 1);				}			} else if (e.getCharacter().equals("d")) {				if(rectangle1.getWidth()<=MAXWIDTH-1){				rectangle1.setWidth(rectangle1.getWidth() + 1);							}			}			rectangle1.drawRectangle(SHAPE1_COLOR);			String textString = rectangle1.getX() + " " + rectangle1.getY()					+ " " + rectangle1.getWidth() + " "					+ rectangle1.getHeight() + " " + rectangle2.getX() + " "					+ rectangle2.getY() + " " + rectangle2.getWidth() + " "					+ rectangle2.getHeight();			tField.setText(textString);			label3.setText(updateRectanglesRelation(rectangle1, rectangle2));			heightSlider.setValue(rectangle1.getHeight());			widthSlider.setValue(rectangle1.getWidth());		}	}			 class TextFieldHandler implements EventHandler<ActionEvent> {		public void handle(ActionEvent e) {			String str = tField.getText();			solution_pane.requestFocus();			double x1,y1, w1, h1 ,x2 ,y2, w2, h2;			MouseHandler mouseHandler =new MouseHandler();			KeyHandler keyHandler=new KeyHandler();			Scanner myscanner = new Scanner(str);			x1 = myscanner.nextDouble();			y1 = myscanner.nextDouble();			w1 = myscanner.nextDouble();			h1 = myscanner.nextDouble();			x2 = myscanner.nextDouble();			y2 = myscanner.nextDouble();			w2 = myscanner.nextDouble();			h2 = myscanner.nextDouble();			myscanner.close();		//	tField.setText(""); // clear data entry field			rectangle1= new Rectangle2D(x1,y1,w1,h1,SHAPE1_COLOR);			rectangle2= new Rectangle2D(x2,y2,w2,h2,SHAPE2_COLOR);				//	input = String.format("Input is:"+x1+" "+y1+" "+w1+" "+h1+" "+x2+" "+y2+" "+w2+" "+h2);		//	label2.setText(input);			colorlabel1.setText("Rectangle1 is RED");			colorlabel2.setText("Rectangle2 is BLUE");			label3.setText(updateRectanglesRelation(rectangle1,rectangle2));				drawpane.getChildren().clear();			drawpane.getChildren().addAll(rectangle1.getRectangleview(),rectangle2.getRectangleview());			drawpane.setOnMousePressed(mouseHandler);			drawpane.setOnMouseReleased(mouseHandler);			//drawpane.setOnMouseClicked(mouseHandler);			drawpane.setOnMouseEntered(mouseHandler);			//drawpane.setOnMouseExited(mouseHandler);			drawpane.setOnMouseMoved(mouseHandler);			drawpane.setOnMouseDragged(mouseHandler);			scene.setOnKeyTyped(keyHandler);			widthSlider.setValue(rectangle1.getWidth());			widthSlider.valueProperty().addListener(new ChangeListener<Number>() {				@Override				public void changed(ObservableValue<? extends Number> ov,						Number old_value, Number new_value) {				//	tField.setText(String.format("%.2f", new_value));						BigDecimal bg = new BigDecimal(new_value.doubleValue());  										rectangle1.setWidth(bg.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue());		    	    rectangle1.drawRectangle(SHAPE1_COLOR);					String textString=rectangle1.getX()+" "+rectangle1.getY()+" "+rectangle1.getWidth()+" "+rectangle1.getHeight()+" "					+rectangle2.getX()+" "+rectangle2.getY()+" "+rectangle2.getWidth()+" "+rectangle2.getHeight();					tField.setText(textString);					label3.setText(updateRectanglesRelation(rectangle1,rectangle2));				}			});			heightSlider.setValue(rectangle1.getHeight());			heightSlider.valueProperty().addListener(new ChangeListener<Number>() {				@Override				public void changed(ObservableValue<? extends Number> ov,						Number old_value, Number new_value) {					BigDecimal bg = new BigDecimal(new_value.doubleValue());  										rectangle1.setHeight(bg.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue());		    	    rectangle1.drawRectangle(SHAPE1_COLOR);					String textString=rectangle1.getX()+" "+rectangle1.getY()+" "+rectangle1.getWidth()+" "+rectangle1.getHeight()+" "					+rectangle2.getX()+" "+rectangle2.getY()+" "+rectangle2.getWidth()+" "+rectangle2.getHeight();					tField.setText(textString);					label3.setText(updateRectanglesRelation(rectangle1,rectangle2));				}			});				}	}			private String updateRectanglesRelation(Rectangle2D rectangle1 , Rectangle2D rectangle2 ){				  String result;				  if(rectangle1.equals(rectangle2))			  result = String.format("EQ:Two rectangles are equal");		  else if (rectangle1.ntppc(rectangle2))			  result = String.format("NTPPC:rectangle2 is inside the rectangle1\nwithout touching the boundaries");			  else if (rectangle1.tppc(rectangle2))			  result = String.format("TPPC:rectangle2 is inside the rectangle1\nwith touching the boundaries");			  else if (rectangle1.ntpp(rectangle2))			  result = String.format("NTPP:rectangle1 is inside the rectangle2\nwithout touching the boundaries");			  else if (rectangle1.tpp(rectangle2))			  result = String.format("TPP:rectangle1 is inside the rectangle2\nwith touching the boundaries");									  else if (rectangle1.po(rectangle2))			  result = String.format("PO:Two rectangles are proper overlap");		  else if (rectangle1.ec(rectangle2))			  result = String.format("EC:Two rectangles are disjoint\nwith touching the boundaries ");		  else			  result = String.format("DC:Two rectangles are disjoint\nwithout touching the boundaries");		  		  return result;	}}